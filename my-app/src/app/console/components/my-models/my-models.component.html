<div class="header">
  <h1>My models ({{totalModels}} total)</h1>
  <div class="buttons">
    <button mat-raised-button color="primary" (click)="openAddDialog()" matTooltip="Create a new portfolio">Add
      model</button>
    <button mat-button color="primary">Columns</button>
    <button mat-icon-button color="primary">
      <mat-icon>more_vert</mat-icon>
    </button>
  </div>
</div>
<div class="filter border">
  <mat-icon>filter_list</mat-icon>
  <input matInput placeholder="Filter by model name">
</div>
<br>
<mat-table class="border" [dataSource]="dataSource" matSort>
  <!-- Name Definition -->
  <ng-container matColumnDef="name">
    <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>
    <mat-cell *matCellDef="let row">
      <a (click)="goToModelDetails(row)" class="portfolio-name grey"
        style="margin-left: 15px; text-align: left;">{{row.name}}</a>
    </mat-cell>
  </ng-container>

  <!-- Financial Market Definition -->
  <ng-container matColumnDef="financial-market">
    <mat-header-cell *matHeaderCellDef mat-sort-header>Financial market</mat-header-cell>
    <mat-cell *matCellDef="let row">
      {{row.financialMarket}}
    </mat-cell>
  </ng-container>

  <!-- Status Definition -->
  <ng-container matColumnDef="status">
    <mat-header-cell *matHeaderCellDef mat-sort-header>Status</mat-header-cell>
    <mat-cell *matCellDef="let row">
      <mat-icon *ngIf="row.status" matTooltip="No issues" matTooltipPosition="right" style="color: #34a853;">done
      </mat-icon>
      <mat-icon *ngIf="!row.status" matTooltip="Invalid" matTooltipPosition="above" style="color: red;">close
      </mat-icon>
    </mat-cell>
  </ng-container>

  <!-- Edit/Delete Definition -->
  <ng-container matColumnDef="controls">
    <mat-header-cell *matHeaderCellDef> Edit / Delete </mat-header-cell>
    <mat-cell *matCellDef="let row">
      <button mat-icon-button matTooltip="Edit" aria-label="Edit icon for editing a stock in a portfolio"
      (click)="openEditModelDialog(row)">
        <mat-icon>edit</mat-icon>
      </button>
      <button mat-icon-button matTooltip="Delete" aria-label="Delete icon for deleting a stock in a portfolio"
        (click)="openDeleteDialog(row.id)">
        <mat-icon>delete</mat-icon>
      </button>

    </mat-cell>
  </ng-container>

  <!-- Header and Row Declarations -->
  <mat-header-row *matHeaderRowDef="displayColumns">
  </mat-header-row>
  <mat-row *matRowDef="let row; columns: displayColumns">
  </mat-row>
</mat-table>
